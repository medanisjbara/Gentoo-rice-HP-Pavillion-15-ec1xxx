#!/bin/bash


# ğŸ’ ğŸ’» ğŸ’¡ ğŸ”Œ âš¡ ğŸ“ \|

uptime_formatted=$(uptime | cut -d ',' -f1  | cut -d ' ' -f4,5)

battery_status="$(cat /sys/class/power_supply/BAT0/{status,capacity})"
((${battery_status: -3} > 10)) &&  battery_emoji=ğŸ”‹ || battery_emoji=ğŸª«

test "$battery_emoji" = 'ğŸª«' 

volume="$(pactl get-sink-volume @DEFAULT_SINK@|awk '{print $5}')"

if [ "$(pactl get-sink-mute @DEFAULT_SINK@| cut -d ' ' -f 2)" = "no" ]; then
  volemoji='ğŸ”Š'
else
  volemoji='ğŸ”‡'
fi

if [ "$(pactl get-source-mute @DEFAULT_SOURCE@| cut -d ' ' -f 2)" = "no" ]; then
  micemoji='ğŸ¤'
else
  micemoji='ğŸ‘‚'
fi

microphone="$(pactl get-source-volume @DEFAULT_SOURCE@|awk '{print $5}')"

date_formatted=$(date "+%a %F %H:%M")

linux_version=$(uname -r)

echo $1 $uptime_formatted â†‘ $linux_version ğŸ§ $microphone $micemoji $volume $volemoji $battery_status% $battery_emoji $date_formatted
